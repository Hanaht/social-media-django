{% extends 'base.html' %}
{% block content %}
<div class="article-entry">

<div class="card">
    <div class="card-header">
        <span class="font-weight-bold"><h2>{{ object.title }}</h2></span>
        <span class="text-muted"><p>by {{ object.author }} | {{ object.date }}</p></span></div>
        <div class="card-body">
        <p>{{ object.body }}</p>
</div>
  <div class="d-flex flex-row">
        <form method="POST" action="{% url 'like' object.pk %}">
            {% csrf_token %}&nbsp;&nbsp;&nbsp;
            <input type="hidden" name="next" value="{{ request.path }}">
            <span>{{ object.likes.all.count }}</span>
            <button style="font-size: 14px; background-color: #dfdfdf; border: none; padding: 6px 18px; border-radius: 25px; box-shadow: none;" type="submit"><i class="fa fa-thumbs-up"></i></button>
        </form>

        <form method="POST" action="{% url 'dislike' object.pk %}">
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ request.path }}">
            <span>{{ object.dislikes.all.count }}</span>
            <button style="font-size: 14px; background-color: #dfdfdf; border: none; padding: 6px 18px; border-radius: 25px; box-shadow: none;" type="submit"><i class="fa fa-thumbs-down"></i></button>
        </form>
    </div>

</div>
<br><br><br>
    <h5>Add a comment</h5>
    <form action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Submit</button>
    </form>

    <h2 id="comments">Comments</h2>
    {% for comment in post.comment_set.all %}
    <b>{{ comment.name }}</b> said <b>{{ comment.created_on|timesince }} ago</b>
    <p>{{ comment.comment }}</p>
    {% empty %}
    <p>Feel free to leave comment!</p>
    {% endfor %}
    <hr>
    <p>Back to <a href="{% url 'article_list' %}">All Articles</a>.</p>
    {% endblock content %}